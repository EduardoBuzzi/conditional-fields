!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=Object.defineProperty,t=(t,i,a)=>((t,i,a)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a)(t,"symbol"!=typeof i?i+"":i,a)
/*! conditional-fields - v1.0.3 */;class ConditionalField{constructor(e){t(this,"triggerSelector"),t(this,"trigger"),t(this,"operator"),t(this,"value"),t(this,"hideOnEmpty"),t(this,"clearOnHide"),t(this,"affectedFields"),t(this,"affectedBlock"),t(this,"initialCheck",!0),this.triggerSelector=e.trigger.selector,this.trigger=i.createField(this.triggerSelector),this.value=Array.isArray(e.trigger.value)?e.trigger.value:[e.trigger.value],this.operator=e.trigger.operator??"equal",this.hideOnEmpty=e.hideOnEmpty??!0,this.clearOnHide=e.clearOnHide??!0,this.initialCheck=e.initialCheck??!0,this.affectedFields=e.affected.fields.map((t=>(e.affected.parentSelector&&!t.parentSelector&&(t.parentSelector=e.affected.parentSelector),i.createField(t.selector,t.required,t.associatedElements,t.parentSelector)))).filter((e=>null!==e)),e.affected.block&&(this.affectedBlock=document.querySelector(e.affected.block),this.affectedBlock.classList.add("dcf__animated")),this.initialize(),ConditionalField.addUtilityClasses()}initialize(){this.trigger.addEventListener((()=>{this.check()})),this.initialCheck&&this.check(null,!1)}check(e=null,t=!0){let i=!1;const a=(e,t,i)=>{const a=parseFloat(e),s="string"==typeof t?parseFloat(t):t;switch(i){case"equal":return e===t.toString();case"notEqual":return e!==t.toString();case"greaterThan":return a>s;case"lessThan":return a<s;case"greaterThanOrEqual":return a>=s;case"lessThanOrEqual":return a<=s;case"contains":return e.includes(t.toString());case"startsWith":return e.startsWith(t.toString());case"endsWith":return e.endsWith(t.toString());default:return e===t}};if(e)i=this.value.some((t=>a(e,t,this.operator)));else{const e=this.trigger.getValues().filter((e=>e));i=0===e.length?!this.hideOnEmpty:e.some((e=>this.value.some((t=>a(e,t,this.operator)))))}this.updateVisibility(i,t),this.updateRequired(i),!i&&this.clearOnHide&&this.clearFields()}updateVisibility(e,t=!0){var i;if(this.affectedBlock)return this.affectedBlock.dataset.dcfInteracted=t.toString(),this.affectedBlock.classList.toggle("dcf__hidden",!e);null==(i=this.affectedFields)||i.forEach((i=>{i.toggleVisibility(e,t)}))}updateRequired(e){var t;null==(t=this.affectedFields)||t.forEach((t=>{t.setRequired(e)}))}clearFields(){var e;null==(e=this.affectedFields)||e.forEach((e=>{this.clearOnHide&&e.clear()}))}static addUtilityClasses(){if(!document.getElementById("dcf-utility-styles")){const e=document.createElement("style");e.id="dcf-utility-styles",e.innerHTML=".dcf__hidden{display:none!important}.dcf__animated[data-dcf-interacted=true]{animation:dcf__appear .5s ease-in-out 1;transition-property:display,max-height;transition-duration:.5s;transition-behavior:allow-discrete;max-height:1000px}.dcf__animated.dcf__hidden[data-dcf-interacted=true]{animation:dcf__disappear .5s ease-in-out 1;max-height:0}@keyframes dcf__appear{0%{opacity:0;max-height:0}to{opacity:1;max-height:1000px}}@keyframes dcf__disappear{0%{opacity:1;max-height:1000px;display:block!important}to{opacity:0;max-height:0;display:none!important}}",document.head.appendChild(e)}}}class i{constructor(e,i=!1,a,s){t(this,"selector"),t(this,"elements"),t(this,"required"),t(this,"associatedElements"),t(this,"parentSelector"),this.selector=e,this.required=i,this.elements=this.getElements(e),this.parentSelector=s,a&&(this.associatedElements=this.getElements(a)),this.addClass(this.elements)}static createField(e,t=!1,i,c){let l;if(!(l=document.querySelector(e)))throw new Error(`No elements found for selector: ${e}`);return"INPUT"===l.tagName?new a(e,t,i,c):"SELECT"===l.tagName?new s(e,t,i,c):"TEXTAREA"===l.tagName?new r(e,t,i,c):new n(e,t,i,c)}getElements(e){const t=document.querySelectorAll(Array.isArray(e)?e.join(","):e);if(0===t.length)throw new Error(`No elements found for selector: ${e}`);return Array.from(t)}addClass(e){e.forEach((e=>{e.classList.add("dcf__animated"),e.dataset.dcfInteracted="false"})),this.parentSelector&&e.forEach((e=>{var t;const i=null==(t=this.parentSelector)?void 0:t.call(this,e);i&&(i.classList.add("dcf__animated"),i.dataset.dcfInteracted="false")})),this.associatedElements&&this.associatedElements.forEach((e=>{e.classList.add("dcf__animated"),e.dataset.dcfInteracted="false"}))}addEventListener(e,t=this.getEventName()){t&&this.elements.forEach((i=>{i.addEventListener(t,e)}))}setRequired(e){!this.required&&e||this.elements.forEach((t=>{t.required=e}))}toggleVisibility(e,t=!0){const i=e?"remove":"add",a=e=>{var a;const s=(null==(a=this.parentSelector)?void 0:a.call(this,e))||e;s.classList[i]("dcf__hidden"),s.dataset.dcfInteracted=t.toString()};this.elements.forEach(a),this.associatedElements&&this.associatedElements.forEach(a)}}class a extends i{clear(){this.elements.forEach((e=>{const t=e;"checkbox"===t.type||"radio"===t.type?t.checked=!1:t.value="",t.dispatchEvent(new Event(this.getEventName()))}))}getValues(){const e=[];return this.elements.forEach((t=>{const i=t;"checkbox"===i.type||"radio"===i.type?i.checked&&e.push(i.value):e.push(i.value)})),e}getEventName(){const e=this.elements[0].type;return"checkbox"===e||"radio"===e||"file"===e?"change":"input"}setRequired(e){"checkbox"!==this.elements[0].type&&super.setRequired(e)}}class s extends i{clear(){this.elements.forEach((e=>{const t=e;t.selectedIndex=0,t.dispatchEvent(new Event(this.getEventName()))}))}getValues(){return this.elements.map((e=>e.value))}getEventName(){return"change"}}class r extends i{clear(){this.elements.forEach((e=>{const t=e;t.value="",t.dispatchEvent(new Event(this.getEventName()))}))}getValues(){return this.elements.map((e=>e.value))}getEventName(){return"input"}}class n extends i{clear(){}getValues(){return this.elements.map((e=>e.textContent||""))}getEventName(){return null}}"undefined"!=typeof window&&(window.setupConditionalFields=function(e){if(!e||!e.length)throw new Error("No configuration provided");e.forEach((function(e){try{new ConditionalField(e)}catch(t){console.error("Error initializing conditional field with config:",e,t)}}))},window.ConditionalField=ConditionalField)}));
